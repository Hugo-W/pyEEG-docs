

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyeeg.models.TRFEstimator &mdash; pyEEG 1.1a documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pyeeg.models.TRFEstimator.fill_lags" href="pyeeg.models.TRFEstimator.fill_lags.html" />
    <link rel="prev" title="Modelling" href="../models.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">
     

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> pyEEG
          

          
            
            <img src="../_static/pyeeg-logo-light.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">To get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../io.html">IO module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocess.html">Preprocessing module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../models.html">Modelling</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../models.html#classes">Classes</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyeeg.models</span></code>.TRFEstimator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pyeeg.cca.CCA_Estimator.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyeeg.cca</span></code>.CCA_Estimator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../models.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vizu.html">Vizualisaton</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About pyEEG</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyEEG</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../models.html">Modelling</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyeeg.models</span></code>.TRFEstimator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/pyeeg.models.TRFEstimator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="pyeeg-models-trfestimator">
<h1><a class="reference internal" href="../models.html#module-pyeeg.models" title="pyeeg.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyeeg.models</span></code></a>.TRFEstimator<a class="headerlink" href="#pyeeg-models-trfestimator" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="pyeeg.models.TRFEstimator">
<em class="property">class </em><code class="sig-prename descclassname">pyeeg.models.</code><code class="sig-name descname">TRFEstimator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">times</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">tmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">srate</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">fit_intercept</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyeeg.models.TRFEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporal Response Function (TRF) Estimator Class.</p>
<p>This class allows to estimate TRF from a set of feature signals and an EEG dataset in the same fashion
than ReceptiveFieldEstimator does in MNE.
However, an arbitrary set of lags can be given. Namely, it can be used in two ways:</p>
<ul class="simple">
<li><p>calling with <cite>tmin</cite> and tmax` arguments will compute lags spanning from <cite>tmin</cite> to <cite>tmax</cite></p></li>
<li><p>with the <cite>times</cite> argument, one can request an arbitrary set of time lags at which to compute</p></li>
</ul>
<p>the coefficients of the TRF</p>
<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.lags">
<code class="sig-name descname">lags</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.lags" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of <cite>int</cite>, corresponding to lag in samples at which the TRF coefficients are computed</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1d-array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.times">
<code class="sig-name descname">times</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.times" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of <cite>float</cite>, corresponding to lag in seconds at which the TRF coefficients are computed</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1d-array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.srate">
<code class="sig-name descname">srate</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.srate" title="Permalink to this definition">¶</a></dt>
<dd><p>Sampling rate</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.use_reularisation">
<code class="sig-name descname">use_reularisation</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.use_reularisation" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether ot not the Ridge regularisation is used to compute the TRF</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.fit_intercept">
<code class="sig-name descname">fit_intercept</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.fit_intercept" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether a column of ones should be added to the design matrix to fit an intercept</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.fitted">
<code class="sig-name descname">fitted</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.fitted" title="Permalink to this definition">¶</a></dt>
<dd><p>True once the TRF has been fitted on EEG data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.intercept_">
<code class="sig-name descname">intercept_</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.intercept_" title="Permalink to this definition">¶</a></dt>
<dd><p>Intercepts</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1d array (nchans, )</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.coef_">
<code class="sig-name descname">coef_</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.coef_" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual TRF coefficients</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray (nlags, nfeats, nchans)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.n_feats_">
<code class="sig-name descname">n_feats_</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.n_feats_" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of word level features in TRF</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.n_chans_">
<code class="sig-name descname">n_chans_</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.n_chans_" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of EEG channels in TRF</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyeeg.models.TRFEstimator.feat_names_">
<code class="sig-name descname">feat_names_</code><a class="headerlink" href="#pyeeg.models.TRFEstimator.feat_names_" title="Permalink to this definition">¶</a></dt>
<dd><p>Names of each word level features</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Attributes with a <cite>_</cite> suffix are only set once the TRF has been fitted on EEG data (i.e. after</p></li>
</ul>
<p>the method <a class="reference internal" href="pyeeg.models.TRFEstimator.fit.html#pyeeg.models.TRFEstimator.fit" title="pyeeg.models.TRFEstimator.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TRFEstimator.fit()</span></code></a> has been called).
- Can fit on a list of multiple dataset, where we have a list of target Y and
a single stimulus matrix of features X, then the computation is made such that
the coefficients computed are similar to those obtained by concatenating all matrices</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trf</span> <span class="o">=</span> <span class="n">TRFEstimator</span><span class="p">(</span><span class="n">tmin</span><span class="o">=-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">tmax</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">srate</span><span class="o">=</span><span class="mi">125</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">lagged</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.fill_lags.html#pyeeg.models.TRFEstimator.fill_lags" title="pyeeg.models.TRFEstimator.fill_lags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.fill_lags</span></code></a>()</p></td>
<td><p>Fill the lags attributes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.fit.html#pyeeg.models.TRFEstimator.fit" title="pyeeg.models.TRFEstimator.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.fit</span></code></a>(X, y[, lagged, drop, …])</p></td>
<td><p>Fit the TRF model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.get_params.html#pyeeg.models.TRFEstimator.get_params" title="pyeeg.models.TRFEstimator.get_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.get_params</span></code></a>([deep])</p></td>
<td><p>Get parameters for this estimator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.plot.html#pyeeg.models.TRFEstimator.plot" title="pyeeg.models.TRFEstimator.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.plot</span></code></a>([feat_id, ax, …])</p></td>
<td><p>Plot the TRF of the feature requested as a <em>butterfly</em> plot.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.predict.html#pyeeg.models.TRFEstimator.predict" title="pyeeg.models.TRFEstimator.predict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.predict</span></code></a>(X)</p></td>
<td><p>Compute output based on fitted coefficients and feature matrix X.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.score.html#pyeeg.models.TRFEstimator.score" title="pyeeg.models.TRFEstimator.score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.score</span></code></a>(Xtest, ytrue[, scoring])</p></td>
<td><p>Compute a score of the model given true target and estimated target from Xtest.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.set_params.html#pyeeg.models.TRFEstimator.set_params" title="pyeeg.models.TRFEstimator.set_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.set_params</span></code></a>(**params)</p></td>
<td><p>Set the parameters of this estimator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pyeeg.models.TRFEstimator.xfit.html#pyeeg.models.TRFEstimator.xfit" title="pyeeg.models.TRFEstimator.xfit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TRFEstimator.xfit</span></code></a>(X, y[, n_splits, lagged, …])</p></td>
<td><p>Apply a cross-validation procedure to find the best regularisation parameters among the list of alphas given (ndim alpha must be == 1, and len(alphas)&gt;1).</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="clearer"></div></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyeeg.models.TRFEstimator.fill_lags.html" class="btn btn-neutral float-right" title="pyeeg.models.TRFEstimator.fill_lags" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../models.html" class="btn btn-neutral float-left" title="Modelling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Hugo Weissbart

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>